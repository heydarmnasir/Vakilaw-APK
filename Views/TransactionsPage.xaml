<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="Vakilaw.Views.TransactionsPage"
             Title="تراکنش‌ها">

    <VerticalStackLayout Padding="15" Spacing="15">

        <!-- دکمه افزودن تراکنش -->
        <Button Text="➕ افزودن تراکنش"
                Command="{Binding ShowAddTransactionPopupCommand}"
                BackgroundColor="#2196F3"
                TextColor="White"
                CornerRadius="10"
                HeightRequest="45"
                HorizontalOptions="Fill"/>

        <!-- لیست تراکنش‌ها -->
        <CollectionView ItemsSource="{Binding Transactions}">
            <CollectionView.ItemTemplate>
                <DataTemplate>
                    <Border Margin="5"
                           Padding="10"
                           StrokeShape="12"                          
                           Stroke="{Binding IsIncome, Converter={StaticResource BoolToColorConverter}}">
                        <Grid ColumnDefinitions="*,Auto"
                              RowDefinitions="Auto,Auto">

                            <Label Text="{Binding Title}"
                                   FontAttributes="Bold"
                                   Grid.Row="0" Grid.Column="0"/>

                            <Label Text="{Binding Amount, StringFormat='{0:N0} ₮'}"
                                   TextColor="{Binding IsIncome, Converter={StaticResource BoolToColorConverter}}"
                                   Grid.Row="0" Grid.Column="1"/>

                            <Label Text="{Binding Date, StringFormat='{0:yyyy/MM/dd}'}"
                                   FontSize="12"
                                   Grid.Row="1" Grid.Column="0"/>

                            <Label Text="{Binding Description}"
                                   FontSize="12"
                                   TextColor="Gray"
                                   Grid.Row="1" Grid.Column="1"/>
                        </Grid>
                    </Border>
                </DataTemplate>
            </CollectionView.ItemTemplate>
        </CollectionView>

    </VerticalStackLayout>
</ContentPage>